<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reforge Command Center</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            reforge: {
              orange: '#ED5624',
              'orange-dark': '#C44A1E',
              'orange-light': '#F0802E',
              teal: '#57A499',
              'teal-light': '#A0D5C2',
              mustard: '#CEAA56',
              'mustard-light': '#DDC977',
              black: '#000000',
              cream: '#EAEACF',
              'off-white': '#F2F2F2',
              muted: '#6B7280'
            }
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif']
          }
        }
      }
    }
  </script>
  <style>
    body { font-family: 'Inter', sans-serif; }
    .gradient-bg { background: linear-gradient(180deg, #FAFAFA 0%, #F2F2F2 100%); }
    .card { background: #FFFFFF; border: 1px solid #E5E7EB; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
    .card:hover { border-color: #ED5624; box-shadow: 0 4px 12px rgba(237,86,36,0.1); }
    .nav-link { transition: all 0.2s; color: #374151; }
    .nav-link:hover { background: rgba(237,86,36,0.05); color: #ED5624; }
    .nav-link.active { background: rgba(237,86,36,0.1); border-left: 3px solid #ED5624; color: #ED5624; }
    .btn-primary { background: #ED5624; color: white; }
    .btn-primary:hover { background: #C44A1E; }
    .btn-secondary { background: #57A499; color: white; }
    .btn-secondary:hover { background: #4A8F85; }
    
    /* Swiper Card Styles */
    .swipe-card {
      position: absolute;
      width: 100%;
      background: white;
      border-radius: 1rem;
      box-shadow: 0 10px 40px rgba(0,0,0,0.15);
      cursor: grab;
      user-select: none;
      transition: transform 0.1s ease-out;
      touch-action: none;
    }
    .swipe-card:active { cursor: grabbing; }
    .swipe-card.swiping { transition: none; }
    .swipe-card.animate-left {
      animation: swipeLeft 0.4s ease-out forwards;
    }
    .swipe-card.animate-right {
      animation: swipeRight 0.4s ease-out forwards;
    }
    @keyframes swipeLeft {
      to { transform: translateX(-150%) rotate(-30deg); opacity: 0; }
    }
    @keyframes swipeRight {
      to { transform: translateX(150%) rotate(30deg); opacity: 0; }
    }
    .card-stack-item {
      position: absolute;
      width: 100%;
      transition: transform 0.3s ease, opacity 0.3s ease;
    }
    .card-stack-item:nth-child(1) { z-index: 3; }
    .card-stack-item:nth-child(2) { z-index: 2; transform: scale(0.95) translateY(10px); opacity: 0.7; }
    .card-stack-item:nth-child(3) { z-index: 1; transform: scale(0.9) translateY(20px); opacity: 0.4; }
    .icp-score-ring {
      width: 64px; height: 64px;
      border-radius: 50%;
      background: conic-gradient(var(--score-color) calc(var(--score) * 3.6deg), #e5e7eb 0deg);
      display: flex; align-items: center; justify-content: center;
    }
    .icp-score-ring-inner {
      width: 52px; height: 52px;
      border-radius: 50%;
      background: white;
      display: flex; align-items: center; justify-content: center;
      font-weight: 700; font-size: 1.1rem;
    }
    .swipe-overlay {
      position: absolute; top: 20px;
      padding: 8px 20px; border-radius: 8px;
      font-weight: 700; font-size: 1.5rem;
      transform: rotate(-15deg);
      opacity: 0; transition: opacity 0.2s;
      pointer-events: none;
    }
    .swipe-overlay.nope { left: 20px; border: 4px solid #ED5624; color: #ED5624; }
    .swipe-overlay.like { right: 20px; border: 4px solid #57A499; color: #57A499; transform: rotate(15deg); }
  </style>
</head>
<body class="gradient-bg min-h-screen text-gray-900">
  <div class="flex">
    <!-- Sidebar Navigation -->
    <nav class="w-64 min-h-screen bg-white border-r border-gray-200 fixed shadow-sm">
      <div class="p-6">
        <div class="flex items-center gap-3 mb-8">
          <div class="w-10 h-10 flex items-center justify-center">
            <svg width="32" height="32" viewBox="0 0 100 100" fill="none">
              <path d="M20 78 Q8 68 12 52 Q16 40 32 36 Q42 34 46 42 Q50 50 42 58 Q34 66 24 74 Q22 76 20 78Z" fill="#000"/>
              <path d="M38 56 Q28 44 36 28 Q44 14 64 16 Q82 18 86 36 Q90 52 76 64 Q62 74 46 66 Q42 64 38 56Z" fill="#000"/>
            </svg>
          </div>
          <div>
            <h1 class="font-semibold text-lg text-gray-900">Reforge</h1>
            <p class="text-xs text-reforge-muted">Command Center</p>
          </div>
        </div>
        
        <div class="space-y-1">
          <a href="#overview" class="nav-link active flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium" onclick="showSection('overview')">
            <span>üìä</span> Overview
          </a>
          <a href="#discovery" class="nav-link flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium" onclick="showSection('discovery')">
            <span>üîç</span> Discovery Validation
          </a>
          <a href="#pitch-deck" class="nav-link flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium" onclick="showSection('pitch-deck')">
            <span>üìë</span> Pitch Deck Generator
          </a>
          <a href="#lead-qualifier" class="nav-link flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium" onclick="showSection('lead-qualifier')">
            <span>üéØ</span> Lead Qualifier
          </a>
          <a href="#opportunities" class="nav-link flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium" onclick="showSection('opportunities')">
            <span>üí∞</span> Opportunity Decisions
          </a>
        </div>
        
        <div class="absolute bottom-6 left-6 right-6">
          <div class="bg-reforge-cream rounded-lg p-4 border border-reforge-mustard/30">
            <p class="text-xs text-gray-600 mb-1">Q1 2026 Progress</p>
            <div class="flex items-center gap-2">
              <div class="flex-1 h-2 bg-gray-200 rounded-full overflow-hidden">
                <div class="h-full bg-reforge-orange rounded-full" style="width: 29%"></div>
              </div>
              <span class="text-xs font-semibold text-reforge-orange">29%</span>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="ml-64 flex-1 p-8">
      
      <!-- Overview Section -->
      <section id="overview" class="section">
        <header class="mb-8">
          <h2 class="text-2xl font-bold text-gray-900 mb-2">GTM-E Overview</h2>
          <p class="text-reforge-muted">Q1 2026 ‚Ä¢ Product Discovery Agent Launch</p>
        </header>

        <!-- Key Metrics -->
        <div class="grid grid-cols-4 gap-4 mb-8">
          <div class="card rounded-xl p-5">
            <p class="text-reforge-muted text-sm mb-1">Meetings Booked</p>
            <div class="flex items-baseline gap-2">
              <span class="text-3xl font-bold text-reforge-teal">20</span>
              <span class="text-sm text-reforge-muted">/70</span>
            </div>
            <div class="mt-2 h-1.5 bg-gray-100 rounded-full">
              <div class="h-full bg-reforge-teal rounded-full" style="width: 29%"></div>
            </div>
          </div>
          
          <div class="card rounded-xl p-5">
            <p class="text-reforge-muted text-sm mb-1">Jonathan's Calls</p>
            <div class="flex items-baseline gap-2">
              <span class="text-3xl font-bold text-reforge-orange">20</span>
              <span class="text-sm text-reforge-muted">Q1</span>
            </div>
            <p class="text-xs text-reforge-muted mt-2">~5/week average</p>
          </div>
          
          <div class="card rounded-xl p-5">
            <p class="text-reforge-muted text-sm mb-1">Pipeline in Pilot</p>
            <div class="flex items-baseline gap-2">
              <span class="text-3xl font-bold text-reforge-teal">$83K</span>
            </div>
            <p class="text-xs text-reforge-teal mt-2">Muse $15K closing ‚Ä¢ 4 active</p>
          </div>
          
          <div class="card rounded-xl p-5">
            <p class="text-reforge-muted text-sm mb-1">Pipeline</p>
            <div class="flex items-baseline gap-2">
              <span class="text-3xl font-bold text-gray-900">$311K</span>
            </div>
            <p class="text-xs text-reforge-teal mt-2">‚Üë Active opportunities</p>
          </div>
        </div>

        <!-- Two Column Layout -->
        <div class="grid grid-cols-2 gap-6 mb-8">
          <div class="card rounded-xl p-6">
            <h3 class="font-semibold mb-4 flex items-center gap-2 text-gray-900">
              <span class="w-2 h-2 bg-reforge-orange rounded-full"></span>
              Current Positioning
            </h3>
            <div class="space-y-4">
              <div class="border-l-2 border-reforge-orange pl-3">
                <p class="text-xs text-reforge-muted uppercase tracking-wide">Problem We Own</p>
                <p class="font-semibold text-reforge-orange">The Discovery Deficit</p>
              </div>
              <div class="border-l-2 border-reforge-teal pl-3">
                <p class="text-xs text-reforge-muted uppercase tracking-wide">Our Position</p>
                <p class="font-semibold text-reforge-teal">Product Discovery Suite</p>
              </div>
              <div class="border-l-2 border-reforge-mustard pl-3">
                <p class="text-xs text-reforge-muted uppercase tracking-wide">The Enemy</p>
                <p class="font-semibold text-reforge-mustard">Product Debt</p>
              </div>
            </div>
          </div>

          <div class="card rounded-xl p-6">
            <h3 class="font-semibold mb-4 flex items-center gap-2 text-gray-900">
              <span class="w-2 h-2 bg-reforge-teal rounded-full"></span>
              Q1 Workstreams
            </h3>
            <div class="space-y-3">
              <div class="flex items-center justify-between bg-gray-50 rounded-lg p-3">
                <div>
                  <p class="font-medium text-sm text-gray-900">A: Messaging & Personalization</p>
                  <p class="text-xs text-reforge-muted">Testing angles</p>
                </div>
                <span class="px-2 py-1 bg-reforge-mustard/20 text-reforge-mustard text-xs rounded-full font-medium">Active</span>
              </div>
              <div class="flex items-center justify-between bg-gray-50 rounded-lg p-3">
                <div>
                  <p class="font-medium text-sm text-gray-900">B: Audiences & Signals</p>
                  <p class="text-xs text-reforge-muted">Signal experiments</p>
                </div>
                <span class="px-2 py-1 bg-reforge-teal/20 text-reforge-teal text-xs rounded-full font-medium">Live</span>
              </div>
              <div class="flex items-center justify-between bg-gray-50 rounded-lg p-3">
                <div>
                  <p class="font-medium text-sm text-gray-900">C: Infrastructure & AI</p>
                  <p class="text-xs text-reforge-muted">Building agents</p>
                </div>
                <span class="px-2 py-1 bg-reforge-orange/20 text-reforge-orange text-xs rounded-full font-medium">Building</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Recent Calls -->
        <div class="card rounded-xl p-6">
          <h3 class="font-semibold mb-4 text-gray-900">Recent Calls</h3>
          <div class="grid grid-cols-2 gap-4" id="recentCalls"></div>
        </div>
      </section>

      <!-- Discovery Validation Section -->
      <section id="discovery" class="section hidden">
        <header class="mb-8">
          <h2 class="text-2xl font-bold text-gray-900 mb-2">Discovery Validation</h2>
          <p class="text-reforge-muted">Pitch resonance analysis from call transcripts</p>
        </header>
        
        <div id="discoveryContent">
          <!-- Aggregate Scores -->
          <div class="grid grid-cols-4 gap-4 mb-6">
            <div class="card rounded-xl p-5">
              <p class="text-reforge-muted text-sm mb-1">Problem Resonance</p>
              <div class="flex items-baseline gap-2">
                <span class="text-3xl font-bold text-reforge-teal">7.7</span>
                <span class="text-sm text-reforge-muted">/10</span>
              </div>
              <p class="text-xs text-reforge-teal mt-2">‚úì They get the problem</p>
            </div>
            <div class="card rounded-xl p-5">
              <p class="text-reforge-muted text-sm mb-1">Enemy Clarity</p>
              <div class="flex items-baseline gap-2">
                <span class="text-3xl font-bold text-reforge-mustard">4.4</span>
                <span class="text-sm text-reforge-muted">/10</span>
              </div>
              <p class="text-xs text-reforge-orange mt-2">‚ö†Ô∏è Product Debt underused</p>
            </div>
            <div class="card rounded-xl p-5">
              <p class="text-reforge-muted text-sm mb-1">Product Understanding</p>
              <div class="flex items-baseline gap-2">
                <span class="text-3xl font-bold text-reforge-teal">7.3</span>
                <span class="text-sm text-reforge-muted">/10</span>
              </div>
              <p class="text-xs text-reforge-teal mt-2">‚úì Suite concept landing</p>
            </div>
            <div class="card rounded-xl p-5">
              <p class="text-reforge-muted text-sm mb-1">Next Step Quality</p>
              <div class="flex items-baseline gap-2">
                <span class="text-3xl font-bold text-reforge-teal">7.1</span>
                <span class="text-sm text-reforge-muted">/10</span>
              </div>
              <p class="text-xs text-reforge-teal mt-2">‚úì Good advancement</p>
            </div>
          </div>

          <!-- Big Insight -->
          <div class="card rounded-xl p-6 mb-6 border-l-4 border-reforge-orange">
            <h3 class="font-semibold text-reforge-orange mb-2">üî• BIG INSIGHT</h3>
            <p class="text-lg text-gray-900 mb-2"><strong>"Product Debt"</strong> has <strong>100% resonance</strong> but you only used it on <strong>29% of calls</strong>.</p>
            <p class="text-reforge-muted">That's your sharpest weapon collecting dust. Lead with it on EVERY call.</p>
          </div>

          <!-- Two Column: Framing Analysis -->
          <div class="grid grid-cols-2 gap-6 mb-6">
            <div class="card rounded-xl p-6">
              <h3 class="font-semibold mb-4 text-gray-900">"Discovery Deficit" Framing</h3>
              <div class="space-y-3">
                <div class="flex justify-between items-center">
                  <span class="text-sm text-gray-600">Usage Rate</span>
                  <span class="font-medium text-reforge-teal">5/7 calls (71%)</span>
                </div>
                <div class="flex justify-between items-center">
                  <span class="text-sm text-gray-600">Resonance When Used</span>
                  <span class="font-medium text-reforge-teal">80%</span>
                </div>
              </div>
              <div class="mt-4 bg-gray-50 rounded-lg p-3">
                <p class="text-xs text-reforge-muted italic">"It's gotten a lot faster and easier to go and ship code... validating and understanding what to ship becomes the difficult part."</p>
                <p class="text-xs text-gray-500 mt-1">‚Äî Jonathan on DreamHost call</p>
              </div>
            </div>

            <div class="card rounded-xl p-6 border-2 border-reforge-orange">
              <h3 class="font-semibold mb-4 text-reforge-orange">"Product Debt" as Enemy ‚ö†Ô∏è</h3>
              <div class="space-y-3">
                <div class="flex justify-between items-center">
                  <span class="text-sm text-gray-600">Usage Rate</span>
                  <span class="font-medium text-reforge-orange">2/7 calls (29%)</span>
                </div>
                <div class="flex justify-between items-center">
                  <span class="text-sm text-gray-600">Resonance When Used</span>
                  <span class="font-medium text-reforge-teal">100%</span>
                </div>
              </div>
              <div class="mt-4 bg-reforge-orange/10 rounded-lg p-3">
                <p class="text-xs text-gray-700 italic">"It's just really difficult to prove the value of a product before it goes out. Any data you could do as fast as possible is absolutely a real pain point."</p>
                <p class="text-xs text-reforge-orange mt-1">‚Äî Ralph, DreamHost (27+ years in product)</p>
              </div>
            </div>
          </div>

          <!-- Best Audiences -->
          <div class="card rounded-xl p-6 mb-6">
            <h3 class="font-semibold mb-4 text-gray-900">Best Audiences (By The Numbers)</h3>
            <div class="grid grid-cols-3 gap-4">
              <div class="bg-gray-50 rounded-lg p-4">
                <p class="text-xs text-reforge-muted uppercase tracking-wide mb-1">Company Size</p>
                <p class="font-semibold text-reforge-teal">500+ employees</p>
                <p class="text-sm text-gray-600 mt-1">Problem resonance: 8.5</p>
              </div>
              <div class="bg-gray-50 rounded-lg p-4">
                <p class="text-xs text-reforge-muted uppercase tracking-wide mb-1">AI Adoption</p>
                <p class="font-semibold text-reforge-teal">Moderate adopters</p>
                <p class="text-sm text-gray-600 mt-1">Resonance: 8.5 (sweet spot!)</p>
              </div>
              <div class="bg-gray-50 rounded-lg p-4">
                <p class="text-xs text-reforge-muted uppercase tracking-wide mb-1">Buyer Persona</p>
                <p class="font-semibold text-reforge-teal">Product Leaders</p>
                <p class="text-sm text-gray-600 mt-1">Problem resonance: 8.5</p>
              </div>
            </div>
          </div>

          <!-- Top Objection -->
          <div class="card rounded-xl p-6 mb-6">
            <h3 class="font-semibold mb-4 text-reforge-mustard">‚ö†Ô∏è Top Objection: Integration (5/7 calls)</h3>
            <p class="text-gray-600 mb-4">They want Reforge to fit INTO their workflow, not replace tools.</p>
            <div class="grid grid-cols-2 gap-4">
              <div class="bg-reforge-mustard/10 rounded-lg p-3">
                <p class="font-medium text-sm text-gray-900">DreamHost</p>
                <p class="text-xs text-gray-600">"Our organization is very focused on Clickup... it's central to how we organize all our work"</p>
              </div>
              <div class="bg-reforge-mustard/10 rounded-lg p-3">
                <p class="font-medium text-sm text-gray-900">Ecovadis</p>
                <p class="text-xs text-gray-600">"We use Product Board... it would be nice not to change it."</p>
              </div>
            </div>
          </div>

          <!-- Call Results -->
          <div class="card rounded-xl p-6">
            <h3 class="font-semibold mb-4 text-gray-900">Call-by-Call Results</h3>
            <div class="space-y-3" id="callResults">
              <!-- Populated by JS -->
            </div>
          </div>
        </div>
      </section>

      <!-- Pitch Deck Generator Section -->
      <section id="pitch-deck" class="section hidden">
        <header class="mb-8">
          <h2 class="text-2xl font-bold text-gray-900 mb-2">Pitch Deck Generator</h2>
          <p class="text-reforge-muted">Customize "Why Reforge" deck for each prospect</p>
        </header>
        
        <div class="card rounded-xl p-6 mb-6">
          <h3 class="font-semibold mb-4 text-gray-900">Generate Custom Deck</h3>
          
          <div class="grid grid-cols-2 gap-6">
            <div>
              <label class="block text-sm text-gray-700 mb-2 font-medium">Company Name</label>
              <input type="text" id="deckCompany" placeholder="e.g., Acme Corp" 
                class="w-full bg-white border border-gray-300 rounded-lg px-4 py-3 focus:border-reforge-orange focus:ring-1 focus:ring-reforge-orange focus:outline-none">
            </div>
            <div>
              <label class="block text-sm text-gray-700 mb-2 font-medium">Company Website</label>
              <input type="url" id="deckWebsite" placeholder="https://acme.com" 
                class="w-full bg-white border border-gray-300 rounded-lg px-4 py-3 focus:border-reforge-orange focus:ring-1 focus:ring-reforge-orange focus:outline-none">
              <p class="text-xs text-reforge-muted mt-1">We'll scrape for context automatically</p>
            </div>
            <div>
              <label class="block text-sm text-gray-700 mb-2 font-medium">LinkedIn URL (optional)</label>
              <input type="url" id="deckLinkedIn" placeholder="https://linkedin.com/company/acme" 
                class="w-full bg-white border border-gray-300 rounded-lg px-4 py-3 focus:border-reforge-orange focus:ring-1 focus:ring-reforge-orange focus:outline-none">
            </div>
            <div>
              <label class="block text-sm text-gray-700 mb-2 font-medium">Buyer Persona</label>
              <select id="deckPersona" class="w-full bg-white border border-gray-300 rounded-lg px-4 py-3 focus:border-reforge-orange focus:outline-none">
                <option value="product-leader">Product Leader</option>
                <option value="pm">Product Manager</option>
                <option value="designer">Designer</option>
                <option value="engineering-leader">Engineering Leader</option>
                <option value="finance">Finance/Procurement</option>
              </select>
            </div>
            <div>
              <label class="block text-sm text-gray-700 mb-2 font-medium">Company Size</label>
              <select id="deckSize" class="w-full bg-white border border-gray-300 rounded-lg px-4 py-3 focus:border-reforge-orange focus:outline-none">
                <option value="51-200">51-200 employees</option>
                <option value="201-500">201-500 employees</option>
                <option value="500+">500+ employees</option>
              </select>
            </div>
            <div>
              <label class="block text-sm text-gray-700 mb-2 font-medium">Primary Pain Point</label>
              <select id="deckPain" class="w-full bg-white border border-gray-300 rounded-lg px-4 py-3 focus:border-reforge-orange focus:outline-none">
                <option value="discovery-deficit">Discovery can't keep up with engineering</option>
                <option value="product-debt">Maintaining unused features</option>
                <option value="validation-speed">Slow customer validation</option>
                <option value="context-gathering">Manual context gathering</option>
              </select>
            </div>
          </div>
          
          <div class="mt-6">
            <label class="block text-sm text-gray-700 mb-2 font-medium">Additional Context (optional)</label>
            <textarea id="deckContext" rows="3" placeholder="Any specific details about the company, their tech stack, recent news..."
              class="w-full bg-white border border-gray-300 rounded-lg px-4 py-3 focus:border-reforge-orange focus:outline-none resize-none"></textarea>
          </div>
          
          <div class="flex gap-3 mt-6">
            <button onclick="researchCompany()" class="btn-secondary px-6 py-3 rounded-lg font-medium hover:shadow-lg transition-all">
              üîç Research First
            </button>
            <button onclick="generateDeck()" class="btn-primary px-6 py-3 rounded-lg font-medium hover:shadow-lg transition-all">
              üé® Generate Custom Deck
            </button>
          </div>
        </div>

        <!-- Research Results -->
        <div id="researchResult" class="hidden card rounded-xl p-6 mb-6">
          <h3 class="font-semibold mb-4 text-gray-900">üîç Company Research</h3>
          <div id="researchContent"></div>
        </div>

        <div id="deckResult" class="hidden card rounded-xl p-6">
          <div class="flex items-center justify-between mb-4">
            <h3 class="font-semibold text-gray-900">Generated Deck</h3>
            <div class="flex gap-2">
              <button class="px-4 py-2 bg-gray-100 rounded-lg text-sm hover:bg-gray-200 text-gray-700 font-medium">
                üì• Download PDF
              </button>
              <button class="btn-secondary px-4 py-2 rounded-lg text-sm font-medium">
                üì§ Save to Drive
              </button>
            </div>
          </div>
          <div id="deckPreview" class="bg-gray-50 rounded-lg p-4 min-h-[300px]"></div>
        </div>
      </section>

      <!-- Lead Qualifier Section - Tinder-Style Swiper -->
      <section id="lead-qualifier" class="section hidden">
        <header class="mb-6">
          <div class="flex items-center justify-between">
            <div>
              <h2 class="text-2xl font-bold text-gray-900 mb-2">Lead Qualifier</h2>
              <p class="text-reforge-muted">Swipe right to qualify, left to skip ‚Ä¢ Use arrow keys or A/D</p>
            </div>
            <div class="flex items-center gap-4">
              <div class="text-right">
                <p class="text-sm text-reforge-muted">Progress</p>
                <p class="text-lg font-bold"><span id="qualifiedCount" class="text-reforge-teal">0</span> qualified / <span id="reviewedCount" class="text-reforge-orange">0</span> reviewed</p>
              </div>
              <button onclick="exportQualifiedLeads()" class="btn-secondary px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2">
                üì• Export Qualified
              </button>
            </div>
          </div>
        </header>

        <div class="grid grid-cols-4 gap-6">
          <!-- Swiper Area -->
          <div class="col-span-3">
            <div class="relative h-[520px] flex items-center justify-center">
              <!-- Card Stack -->
              <div id="cardStack" class="relative w-full max-w-lg">
                <!-- Cards rendered here by JS -->
              </div>
              
              <!-- Swipe Indicators -->
              <div id="swipeLeftIndicator" class="absolute left-4 top-1/2 -translate-y-1/2 opacity-0 transition-opacity duration-200">
                <div class="w-20 h-20 rounded-full bg-reforge-orange/20 flex items-center justify-center">
                  <span class="text-4xl">‚úó</span>
                </div>
              </div>
              <div id="swipeRightIndicator" class="absolute right-4 top-1/2 -translate-y-1/2 opacity-0 transition-opacity duration-200">
                <div class="w-20 h-20 rounded-full bg-reforge-teal/20 flex items-center justify-center">
                  <span class="text-4xl">‚úì</span>
                </div>
              </div>
              
              <!-- Empty State -->
              <div id="emptyState" class="hidden absolute inset-0 flex items-center justify-center">
                <div class="text-center">
                  <div class="w-24 h-24 bg-reforge-teal/20 rounded-full flex items-center justify-center mx-auto mb-4">
                    <span class="text-5xl">üéâ</span>
                  </div>
                  <h3 class="text-xl font-bold text-gray-900 mb-2">All Done!</h3>
                  <p class="text-reforge-muted mb-4">You've reviewed all <span id="totalLeads">50</span> leads</p>
                  <button onclick="resetSwiper()" class="btn-primary px-6 py-3 rounded-lg font-medium">
                    üîÑ Start Over
                  </button>
                </div>
              </div>
            </div>

            <!-- Action Buttons -->
            <div class="flex items-center justify-center gap-6 mt-4">
              <button onclick="swipeLeft()" class="w-16 h-16 rounded-full bg-white border-2 border-reforge-orange hover:bg-reforge-orange/10 flex items-center justify-center transition-all shadow-lg hover:shadow-xl active:scale-95">
                <span class="text-3xl text-reforge-orange">‚úó</span>
              </button>
              <div class="text-center text-sm text-reforge-muted">
                <p>‚Üê A or ‚Üê</p>
                <p class="font-medium">Skip</p>
              </div>
              <div class="w-px h-12 bg-gray-200"></div>
              <div class="text-center text-sm text-reforge-muted">
                <p>D or ‚Üí ‚Üí</p>
                <p class="font-medium">Qualify</p>
              </div>
              <button onclick="swipeRight()" class="w-16 h-16 rounded-full bg-white border-2 border-reforge-teal hover:bg-reforge-teal/10 flex items-center justify-center transition-all shadow-lg hover:shadow-xl active:scale-95">
                <span class="text-3xl text-reforge-teal">‚úì</span>
              </button>
            </div>
          </div>

          <!-- Sidebar -->
          <div class="space-y-4">
            <!-- ICP Criteria -->
            <div class="card rounded-xl p-5">
              <h3 class="font-semibold mb-3 text-gray-900 text-sm">ICP Criteria</h3>
              <div class="space-y-2 text-xs">
                <div class="flex items-start gap-2">
                  <span class="text-reforge-teal">‚úì</span>
                  <span class="text-gray-700">51-500+ employees</span>
                </div>
                <div class="flex items-start gap-2">
                  <span class="text-reforge-teal">‚úì</span>
                  <span class="text-gray-700">B2B SaaS / Dev Tools</span>
                </div>
                <div class="flex items-start gap-2">
                  <span class="text-reforge-teal">‚úì</span>
                  <span class="text-gray-700">AI coding tools adopted</span>
                </div>
                <div class="flex items-start gap-2">
                  <span class="text-reforge-teal">‚úì</span>
                  <span class="text-gray-700">Product-led growth</span>
                </div>
                <div class="flex items-start gap-2">
                  <span class="text-reforge-orange">‚úó</span>
                  <span class="text-gray-700">Hardware / Mobile-first</span>
                </div>
              </div>
            </div>
            
            <!-- Recent Qualified -->
            <div class="card rounded-xl p-5">
              <h3 class="font-semibold mb-3 text-gray-900 text-sm">Recently Qualified</h3>
              <div id="recentQualified" class="space-y-2 max-h-64 overflow-y-auto">
                <p class="text-xs text-reforge-muted italic">None yet‚Äîstart swiping!</p>
              </div>
            </div>
            
            <!-- Stats -->
            <div class="card rounded-xl p-5">
              <h3 class="font-semibold mb-3 text-gray-900 text-sm">Session Stats</h3>
              <div class="space-y-2 text-sm">
                <div class="flex justify-between">
                  <span class="text-reforge-muted">Qualify Rate</span>
                  <span id="qualifyRate" class="font-medium text-gray-900">‚Äî</span>
                </div>
                <div class="flex justify-between">
                  <span class="text-reforge-muted">Avg ICP Score</span>
                  <span id="avgScore" class="font-medium text-gray-900">‚Äî</span>
                </div>
                <div class="flex justify-between">
                  <span class="text-reforge-muted">Remaining</span>
                  <span id="remainingCount" class="font-medium text-gray-900">50</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Opportunity Decisions Section -->
      <section id="opportunities" class="section hidden">
        <header class="mb-8">
          <h2 class="text-2xl font-bold text-gray-900 mb-2">Opportunity Decisions</h2>
          <p class="text-reforge-muted">Track and decide on active pipeline</p>
        </header>
        
        <div class="card rounded-xl p-6 mb-6">
          <div class="flex items-center justify-between mb-4">
            <h3 class="font-semibold text-gray-900">Active Pipeline: $311K</h3>
            <div class="flex gap-2">
              <button class="px-3 py-1 bg-gray-100 rounded-lg text-sm text-gray-700">All</button>
              <button class="px-3 py-1 bg-reforge-orange/10 text-reforge-orange rounded-lg text-sm font-medium">Needs Decision</button>
              <button class="px-3 py-1 bg-gray-100 rounded-lg text-sm text-gray-700">Stale</button>
            </div>
          </div>
          
          <div class="overflow-x-auto">
            <table class="w-full text-sm">
              <thead>
                <tr class="text-gray-500 border-b border-gray-200">
                  <th class="text-left py-3 font-medium">Account</th>
                  <th class="text-left py-3 font-medium">Product</th>
                  <th class="text-right py-3 font-medium">Size</th>
                  <th class="text-left py-3 font-medium">Status</th>
                  <th class="text-left py-3 font-medium">Last Activity</th>
                  <th class="text-right py-3 font-medium">Action</th>
                </tr>
              </thead>
              <tbody id="opportunitiesTable"></tbody>
            </table>
          </div>
        </div>

        <div class="grid grid-cols-2 gap-6">
          <div class="card rounded-xl p-6">
            <h3 class="font-semibold mb-4 text-reforge-mustard">‚ö†Ô∏è Stale Opportunities</h3>
            <p class="text-sm text-reforge-muted mb-4">No activity in 7+ days</p>
            <div id="staleOpps" class="space-y-2"></div>
          </div>
          
          <div class="card rounded-xl p-6">
            <h3 class="font-semibold mb-4 text-reforge-orange">üî• Hot Opportunities</h3>
            <p class="text-sm text-reforge-muted mb-4">Needs immediate attention</p>
            <div class="space-y-2">
              <div class="bg-reforge-orange/5 border border-reforge-orange/30 rounded-lg p-3">
                <div class="flex items-center justify-between">
                  <span class="font-medium text-gray-900">EvenUp</span>
                  <span class="text-sm text-gray-700">$50K</span>
                </div>
                <p class="text-xs text-reforge-muted mt-1">Pilot stalled 105+ days ‚Ä¢ Just raised $150M</p>
                <p class="text-xs text-reforge-orange mt-2 font-medium">‚Üí Re-engage while in momentum mode</p>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script>
    // Navigation
    function showSection(sectionId) {
      document.querySelectorAll('.section').forEach(s => s.classList.add('hidden'));
      document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
      document.getElementById(sectionId).classList.remove('hidden');
      document.querySelector(`[onclick="showSection('${sectionId}')"]`).classList.add('active');
    }

    // Data
    const recentCalls = [
      { date: 'Jan 30', company: 'Console', duration: '19min' },
      { date: 'Jan 30', company: 'Evergive Ltd', duration: '8min' },
      { date: 'Jan 29', company: 'Maestro', duration: '25min' },
      { date: 'Jan 26', company: 'Brigit', duration: '20min' },
      { date: 'Jan 22', company: 'DreamHost', duration: '27min' },
      { date: 'Jan 22', company: 'Ecovadis', duration: '30min' },
    ];

    const callResults = [
      { company: 'Console', persona: 'Product Leader', scores: { problem: 9, enemy: 4, understanding: 7, nextStep: 8 }, status: 'strong', outcome: 'Trial scheduled' },
      { company: 'Maestro', persona: 'Product Leader + CEO', scores: { problem: 8, enemy: 5, understanding: 8, nextStep: 9 }, status: 'strong', outcome: 'Deep demo + pilot' },
      { company: 'DreamHost', persona: 'Product Leader', scores: { problem: 9, enemy: 8, understanding: 7, nextStep: 6 }, status: 'strong', outcome: 'Integration docs needed' },
      { company: 'Ecovadis', persona: 'Product Leader', scores: { problem: 8, enemy: 6, understanding: 8, nextStep: 8 }, status: 'strong', outcome: 'Trial vs Replit' },
      { company: 'Brigit', persona: 'Designer/Researcher', scores: { problem: 7, enemy: 3, understanding: 7, nextStep: 5 }, status: 'moderate', outcome: 'Internal review' },
      { company: 'EvenUp', persona: 'Product Analyst', scores: { problem: 7, enemy: 3, understanding: 8, nextStep: 7 }, status: 'moderate', outcome: 'Testing categorization' },
      { company: 'Datadrew AI', persona: 'PM', scores: { problem: 6, enemy: 2, understanding: 6, nextStep: 7 }, status: 'moderate', outcome: 'Trial setup' },
    ];

    const pipeline = [
      { account: 'Neo Financial', product: 'IA + Research', size: 60000, status: 'Pricing sent', lastActivity: 'Jan 28', urgent: false },
      { account: 'EvenUp', product: 'IA', size: 50000, status: 'Pilot stalled', lastActivity: 'Jan 21', urgent: true },
      { account: 'E&Y', product: 'IA + Research', size: 30000, status: 'Discovery', lastActivity: 'Jan 25', urgent: false },
      { account: 'Fox Local', product: 'IA + Research + Build', size: 27000, status: 'Budget approval', lastActivity: 'Jan 20', urgent: false },
      { account: 'DreamHost', product: 'IA', size: 25000, status: 'In pilot', lastActivity: 'Jan 22', urgent: false },
      { account: 'Ecovadis', product: 'Build + IA', size: 18000, status: 'Starting pilot', lastActivity: 'Jan 22', urgent: false },
    ];

    const staleOpps = [
      { company: 'Liven', lastCall: 'Jan 7', days: 27 },
      { company: 'Opus 2', lastCall: 'Jan 9', days: 25 },
      { company: 'Tie', lastCall: 'Jan 13', days: 21 },
      { company: 'Caterina', lastCall: 'Jan 14', days: 20 },
    ];

    function populateUI() {
      document.getElementById('recentCalls').innerHTML = recentCalls.map(c => `
        <div class="flex items-center justify-between bg-gray-50 rounded-lg p-3">
          <div>
            <p class="font-medium text-sm text-gray-900">${c.company}</p>
            <p class="text-xs text-reforge-muted">${c.date} ‚Ä¢ ${c.duration}</p>
          </div>
          <a href="#" class="text-reforge-orange text-sm font-medium">View ‚Üí</a>
        </div>
      `).join('');

      document.getElementById('callResults').innerHTML = callResults.map(c => `
        <div class="flex items-center justify-between bg-gray-50 rounded-lg p-4">
          <div class="flex items-center gap-4">
            <div>
              <p class="font-medium text-gray-900">${c.company}</p>
              <p class="text-xs text-reforge-muted">${c.persona}</p>
            </div>
          </div>
          <div class="flex items-center gap-6">
            <div class="flex gap-2 text-xs">
              <span class="px-2 py-1 rounded ${c.scores.problem >= 8 ? 'bg-reforge-teal/20 text-reforge-teal' : 'bg-gray-100 text-gray-600'}">P:${c.scores.problem}</span>
              <span class="px-2 py-1 rounded ${c.scores.enemy >= 6 ? 'bg-reforge-teal/20 text-reforge-teal' : 'bg-reforge-mustard/20 text-reforge-mustard'}">E:${c.scores.enemy}</span>
              <span class="px-2 py-1 rounded ${c.scores.nextStep >= 7 ? 'bg-reforge-teal/20 text-reforge-teal' : 'bg-gray-100 text-gray-600'}">NS:${c.scores.nextStep}</span>
            </div>
            <span class="px-2 py-1 rounded-full text-xs font-medium ${c.status === 'strong' ? 'bg-reforge-teal/20 text-reforge-teal' : 'bg-reforge-mustard/20 text-reforge-mustard'}">${c.outcome}</span>
          </div>
        </div>
      `).join('');

      document.getElementById('opportunitiesTable').innerHTML = pipeline.map(p => `
        <tr class="border-b border-gray-100 ${p.urgent ? 'bg-reforge-orange/5' : ''}">
          <td class="py-3 font-medium text-gray-900">${p.account}</td>
          <td class="py-3 text-gray-600">${p.product}</td>
          <td class="py-3 text-right text-gray-900">$${(p.size/1000).toFixed(0)}K</td>
          <td class="py-3">
            <span class="px-2 py-1 ${p.urgent ? 'bg-reforge-orange/20 text-reforge-orange' : 'bg-reforge-teal/20 text-reforge-teal'} text-xs rounded-full font-medium">${p.status}</span>
          </td>
          <td class="py-3 text-gray-600">${p.lastActivity}</td>
          <td class="py-3 text-right">
            <button class="text-reforge-orange hover:underline text-sm font-medium">Decide ‚Üí</button>
          </td>
        </tr>
      `).join('');

      document.getElementById('staleOpps').innerHTML = staleOpps.map(o => `
        <div class="flex items-center justify-between bg-reforge-mustard/10 rounded-lg p-3">
          <div>
            <p class="font-medium text-sm text-gray-900">${o.company}</p>
            <p class="text-xs text-reforge-muted">Last call: ${o.lastCall} (${o.days} days ago)</p>
          </div>
          <button class="text-reforge-mustard text-sm font-medium">Follow up ‚Üí</button>
        </div>
      `).join('');
    }

    function researchCompany() {
      const website = document.getElementById('deckWebsite').value;
      const linkedin = document.getElementById('deckLinkedIn').value;
      if (!website && !linkedin) { alert('Please enter a website or LinkedIn URL'); return; }
      
      document.getElementById('researchResult').classList.remove('hidden');
      document.getElementById('researchContent').innerHTML = `
        <div class="flex items-center gap-3 py-4">
          <div class="animate-spin w-5 h-5 border-2 border-reforge-teal border-t-transparent rounded-full"></div>
          <p class="text-gray-700">Scraping ${website || linkedin} for company context...</p>
        </div>
      `;
      
      // Simulate research (in production, this would call an API)
      setTimeout(() => {
        document.getElementById('researchContent').innerHTML = `
          <div class="grid grid-cols-2 gap-4 mb-4">
            <div class="bg-gray-50 rounded-lg p-3">
              <p class="text-xs text-reforge-muted">Company</p>
              <p class="font-medium text-gray-900">${document.getElementById('deckCompany').value || 'Acme Corp'}</p>
            </div>
            <div class="bg-gray-50 rounded-lg p-3">
              <p class="text-xs text-reforge-muted">Industry</p>
              <p class="font-medium text-gray-900">B2B SaaS</p>
            </div>
            <div class="bg-gray-50 rounded-lg p-3">
              <p class="text-xs text-reforge-muted">Tech Stack Signals</p>
              <p class="font-medium text-gray-900">React, Node.js, AWS</p>
            </div>
            <div class="bg-gray-50 rounded-lg p-3">
              <p class="text-xs text-reforge-muted">AI Adoption Signals</p>
              <p class="font-medium text-reforge-teal">‚úì GitHub Copilot mentioned in jobs</p>
            </div>
          </div>
          <div class="bg-reforge-teal/10 rounded-lg p-3">
            <p class="text-sm text-reforge-teal font-medium">üí° Research complete - context added to deck generation</p>
          </div>
        `;
      }, 2000);
    }

    function generateDeck() {
      const company = document.getElementById('deckCompany').value;
      if (!company) { alert('Please enter a company name'); return; }
      document.getElementById('deckResult').classList.remove('hidden');
      document.getElementById('deckPreview').innerHTML = `
        <div class="text-center py-8">
          <div class="animate-spin w-8 h-8 border-2 border-reforge-orange border-t-transparent rounded-full mx-auto mb-4"></div>
          <p class="text-gray-700">Generating custom deck for ${company}...</p>
        </div>
      `;
      setTimeout(() => {
        const persona = document.getElementById('deckPersona').value;
        const pain = document.getElementById('deckPain').value;
        document.getElementById('deckPreview').innerHTML = `
          <div class="space-y-4">
            <div class="bg-white rounded-lg p-4 border border-gray-200">
              <p class="text-reforge-orange font-semibold mb-2">Slide 1: The ${company} Problem</p>
              <p class="text-sm text-gray-600">Customized opening based on their specific pain point...</p>
            </div>
            <div class="bg-white rounded-lg p-4 border border-gray-200">
              <p class="text-reforge-orange font-semibold mb-2">Slide 2: Product Debt is Killing You</p>
              <p class="text-sm text-gray-600">Every feature you ship without validation becomes debt...</p>
            </div>
            <div class="bg-white rounded-lg p-4 border border-gray-200">
              <p class="text-reforge-orange font-semibold mb-2">Slide 3: The Discovery Deficit</p>
              <p class="text-sm text-gray-600">AI accelerated engineering. Discovery didn't keep up.</p>
            </div>
            <p class="text-center text-gray-500 text-sm">+ 7 more slides customized for ${company} (${persona})</p>
          </div>
        `;
      }, 2500);
    }

    // ========== LEAD QUALIFIER SWIPER ==========
    const sampleLeads = [
      {"id":1,"company":"Notion Labs","person":"Sarah Chen","title":"VP of Product","size":"500+","industry":"Productivity SaaS","ai_signals":["GitHub Copilot","AI writing features"],"icp_score":92,"summary":"Perfect ICP: AI-native company, product-led, discovery-focused culture"},
      {"id":2,"company":"Figma","person":"Marcus Johnson","title":"Director of Product","size":"500+","industry":"Design Tools","ai_signals":["AI design features","Copilot mentions"],"icp_score":89,"summary":"Strong fit: Design-to-code workflow, heavy user research culture"},
      {"id":3,"company":"Linear","person":"Emily Rodriguez","title":"Head of Product","size":"51-200","industry":"Dev Tools","ai_signals":["Cursor in job posts","AI roadmap"],"icp_score":94,"summary":"Excellent: Fast-moving dev tools, product-obsessed, AI-first"},
      {"id":4,"company":"Retool","person":"David Kim","title":"Product Lead","size":"201-500","industry":"Internal Tools","ai_signals":["AI workflows","Copilot"],"icp_score":87,"summary":"Great fit: Builder audience, complex discovery needs"},
      {"id":5,"company":"Amplitude","person":"Jessica Martinez","title":"Sr Product Manager","size":"500+","industry":"Analytics","ai_signals":["AI insights features"],"icp_score":85,"summary":"Good fit: Data-driven product culture, growth focus"},
      {"id":6,"company":"Plaid","person":"Michael Brown","title":"Product Director","size":"500+","industry":"FinTech API","ai_signals":["ML models","API AI"],"icp_score":78,"summary":"Decent: API-first but heavy compliance burden"},
      {"id":7,"company":"Webflow","person":"Amanda Lee","title":"VP Product","size":"201-500","industry":"No-Code","ai_signals":["AI site builder","Copilot"],"icp_score":91,"summary":"Strong: Visual builder, product-led, AI features shipping"},
      {"id":8,"company":"Airtable","person":"Kevin Wilson","title":"Group PM","size":"500+","industry":"Productivity","ai_signals":["AI automations","LLM features"],"icp_score":88,"summary":"Good: Platform play, discovery complexity matches"},
      {"id":9,"company":"Datadog","person":"Rachel Green","title":"Product Lead","size":"500+","industry":"Observability","ai_signals":["AI alerting","ML ops"],"icp_score":72,"summary":"Mixed: Enterprise sales motion, longer cycles"},
      {"id":10,"company":"HashiCorp","person":"James Taylor","title":"Director Product","size":"500+","industry":"DevOps","ai_signals":["AI assist features"],"icp_score":68,"summary":"Moderate: Infrastructure focus, less consumer-style discovery"},
      {"id":11,"company":"Vercel","person":"Lisa Anderson","title":"Head of Product","size":"201-500","industry":"Dev Platform","ai_signals":["v0 AI","Copilot native"],"icp_score":96,"summary":"Perfect: AI-native, developer audience, rapid iteration"},
      {"id":12,"company":"Supabase","person":"Tom Harris","title":"Product Manager","size":"51-200","industry":"Backend Platform","ai_signals":["AI SQL","Vector DB"],"icp_score":93,"summary":"Excellent: Open source, fast shipping, AI infrastructure"},
      {"id":13,"company":"PostHog","person":"Diana Clark","title":"VP Product","size":"51-200","industry":"Analytics","ai_signals":["AI insights"],"icp_score":90,"summary":"Strong: Product analytics focus, open source DNA"},
      {"id":14,"company":"Loom","person":"Chris Martin","title":"Product Director","size":"201-500","industry":"Video Comms","ai_signals":["AI summaries","Transcription"],"icp_score":84,"summary":"Good: Async culture, AI features central to roadmap"},
      {"id":15,"company":"Calendly","person":"Jennifer White","title":"Sr PM","size":"201-500","industry":"Scheduling","ai_signals":["AI scheduling"],"icp_score":76,"summary":"Decent: PLG but narrower product surface"},
      {"id":16,"company":"Miro","person":"Alex Thompson","title":"Product Lead","size":"500+","industry":"Collaboration","ai_signals":["AI canvas","Copilot"],"icp_score":86,"summary":"Good: Visual collaboration, design thinking culture"},
      {"id":17,"company":"Canva","person":"Nicole Garcia","title":"Director Product","size":"500+","industry":"Design","ai_signals":["Magic AI suite"],"icp_score":82,"summary":"Good: AI-forward, massive user base, complex discovery"},
      {"id":18,"company":"Stripe","person":"Robert Jackson","title":"Group PM","size":"500+","industry":"Payments","ai_signals":["AI docs","Copilot"],"icp_score":74,"summary":"Mixed: Strong culture but heavy enterprise motion"},
      {"id":19,"company":"Twilio","person":"Maria Rodriguez","title":"Product Director","size":"500+","industry":"Communications API","ai_signals":["AI voice"],"icp_score":69,"summary":"Moderate: API platform, developer audience but complex org"},
      {"id":20,"company":"Shopify","person":"Steven Lee","title":"Sr Staff PM","size":"500+","industry":"E-commerce","ai_signals":["Sidekick AI","Magic"],"icp_score":83,"summary":"Good: AI-native features, massive merchant discovery needs"},
      {"id":21,"company":"Atlassian","person":"Karen Miller","title":"Principal PM","size":"500+","industry":"Dev Tools","ai_signals":["AI across products"],"icp_score":71,"summary":"Mixed: Large org complexity, slower adoption cycles"},
      {"id":22,"company":"HubSpot","person":"Brian Davis","title":"VP Product","size":"500+","industry":"CRM/Marketing","ai_signals":["AI content","ChatSpot"],"icp_score":77,"summary":"Decent: Marketing tech, AI features but sales-led motion"},
      {"id":23,"company":"Intercom","person":"Amy Williams","title":"Product Director","size":"201-500","industry":"Customer Comms","ai_signals":["Fin AI agent"],"icp_score":88,"summary":"Strong: AI-first product, customer insights focus"},
      {"id":24,"company":"Zapier","person":"Mark Johnson","title":"Head of Product","size":"201-500","industry":"Automation","ai_signals":["AI actions","Copilot"],"icp_score":85,"summary":"Good: Automation platform, AI integration focus"},
      {"id":25,"company":"Asana","person":"Sandra Brown","title":"Group PM","size":"500+","industry":"Work Management","ai_signals":["AI features"],"icp_score":73,"summary":"Mixed: Enterprise motion, heavier integration focus"},
      {"id":26,"company":"Segment","person":"Paul Martinez","title":"Product Lead","size":"201-500","industry":"CDP","ai_signals":["AI audiences"],"icp_score":79,"summary":"Decent: Data platform, complex but enterprise-y"},
      {"id":27,"company":"dbt Labs","person":"Laura Chen","title":"Director Product","size":"201-500","industry":"Data Engineering","ai_signals":["AI modeling","Copilot"],"icp_score":91,"summary":"Strong: Developer-loved, data-native, AI roadmap"},
      {"id":28,"company":"Snowflake","person":"Jeff Kim","title":"Principal PM","size":"500+","industry":"Data Cloud","ai_signals":["Cortex AI"],"icp_score":65,"summary":"Lower: Enterprise data, long sales cycles"},
      {"id":29,"company":"MongoDB","person":"Ashley Wilson","title":"Product Director","size":"500+","industry":"Database","ai_signals":["Vector search","AI"],"icp_score":70,"summary":"Moderate: Developer audience but infrastructure focus"},
      {"id":30,"company":"Cloudflare","person":"Ryan Taylor","title":"VP Product","size":"500+","industry":"Edge/Security","ai_signals":["AI gateway"],"icp_score":72,"summary":"Mixed: Infrastructure play, developer adjacent"},
      {"id":31,"company":"Pitch","person":"Emma Anderson","title":"Head of Product","size":"51-200","industry":"Presentations","ai_signals":["AI slides"],"icp_score":87,"summary":"Good: Design focus, AI features, PLG motion"},
      {"id":32,"company":"Coda","person":"Nathan Clark","title":"Product Lead","size":"51-200","industry":"Docs/Apps","ai_signals":["AI blocks","Copilot"],"icp_score":89,"summary":"Strong: Doc platform, AI-native features, product-led"},
      {"id":33,"company":"Maze","person":"Sophie Martin","title":"VP Product","size":"51-200","industry":"User Research","ai_signals":["AI insights"],"icp_score":95,"summary":"Perfect: User research tool, discovery is core mission"},
      {"id":34,"company":"Sprig","person":"Daniel Garcia","title":"Director Product","size":"51-200","industry":"User Insights","ai_signals":["AI analysis"],"icp_score":94,"summary":"Excellent: In-product research, AI insights core"},
      {"id":35,"company":"Dovetail","person":"Olivia White","title":"Product Manager","size":"51-200","industry":"Research Repo","ai_signals":["AI tagging"],"icp_score":93,"summary":"Strong: Research tooling, discovery alignment perfect"},
      {"id":36,"company":"Hotjar","person":"Lucas Thompson","title":"Sr PM","size":"201-500","industry":"Behavior Analytics","ai_signals":["AI heatmaps"],"icp_score":86,"summary":"Good: User behavior focus, PLG, discovery adjacent"},
      {"id":37,"company":"FullStory","person":"Hannah Jackson","title":"Product Director","size":"201-500","industry":"DXI","ai_signals":["AI frustration detection"],"icp_score":84,"summary":"Good: User experience focus, AI features shipping"},
      {"id":38,"company":"Mixpanel","person":"Jacob Rodriguez","title":"VP Product","size":"201-500","industry":"Product Analytics","ai_signals":["AI insights"],"icp_score":82,"summary":"Good: Product analytics, data-driven culture"},
      {"id":39,"company":"LaunchDarkly","person":"Grace Lee","title":"Head of Product","size":"201-500","industry":"Feature Flags","ai_signals":["AI rollouts"],"icp_score":88,"summary":"Strong: Feature management, experimentation culture"},
      {"id":40,"company":"Split.io","person":"Ethan Miller","title":"Product Lead","size":"51-200","industry":"Feature Delivery","ai_signals":["AI targeting"],"icp_score":85,"summary":"Good: Experimentation focus, product-led"},
      {"id":41,"company":"Eppo","person":"Isabella Davis","title":"Director Product","size":"51-200","industry":"Experimentation","ai_signals":["AI experiments"],"icp_score":92,"summary":"Excellent: A/B testing focus, discovery-native"},
      {"id":42,"company":"Statsig","person":"William Brown","title":"Product Manager","size":"51-200","industry":"Feature Platform","ai_signals":["AI metrics"],"icp_score":90,"summary":"Strong: Experimentation company, AI roadmap"},
      {"id":43,"company":"Pendo","person":"Mia Wilson","title":"VP Product","size":"201-500","industry":"Product Experience","ai_signals":["AI analytics"],"icp_score":83,"summary":"Good: Product experience, discovery adjacent"},
      {"id":44,"company":"Heap","person":"Alexander Taylor","title":"Group PM","size":"201-500","industry":"Auto-capture Analytics","ai_signals":["AI insights"],"icp_score":81,"summary":"Good: Behavioral data, auto-capture fits"},
      {"id":45,"company":"Census","person":"Charlotte Anderson","title":"Head of Product","size":"51-200","industry":"Reverse ETL","ai_signals":["AI syncs"],"icp_score":78,"summary":"Decent: Data activation, technical audience"},
      {"id":46,"company":"Hightouch","person":"Benjamin Clark","title":"Product Director","size":"51-200","industry":"Data Activation","ai_signals":["AI audiences"],"icp_score":80,"summary":"Good: CDP space, fast-moving team"},
      {"id":47,"company":"Rudderstack","person":"Amelia Martin","title":"Product Lead","size":"51-200","industry":"CDP","ai_signals":["AI pipelines"],"icp_score":77,"summary":"Decent: Open source CDP, developer focus"},
      {"id":48,"company":"Stytch","person":"Henry Garcia","title":"Sr PM","size":"51-200","industry":"Auth","ai_signals":["AI fraud detection"],"icp_score":75,"summary":"Decent: Auth API, developer audience"},
      {"id":49,"company":"Clerk","person":"Victoria White","title":"Head of Product","size":"51-200","industry":"Auth","ai_signals":["AI security"],"icp_score":79,"summary":"Good: Developer auth, fast-moving, product-led"},
      {"id":50,"company":"Neon","person":"Sebastian Thompson","title":"Product Manager","size":"51-200","industry":"Serverless DB","ai_signals":["AI SQL","Vector"],"icp_score":91,"summary":"Strong: Serverless Postgres, AI-native roadmap"}
    ];

    let leads = [...sampleLeads];
    let currentIndex = 0;
    let qualifiedLeads = [];
    let skippedLeads = [];
    let isDragging = false;
    let startX = 0;
    let currentX = 0;

    function getScoreColor(score) {
      if (score >= 85) return '#57A499';
      if (score >= 70) return '#CEAA56';
      return '#ED5624';
    }

    function renderCard(lead, index) {
      const scoreColor = getScoreColor(lead.icp_score);
      return `
        <div class="swipe-card card-stack-item p-6" data-index="${index}" style="--score: ${lead.icp_score}; --score-color: ${scoreColor}">
          <div class="swipe-overlay nope">NOPE</div>
          <div class="swipe-overlay like">LIKE</div>
          
          <div class="flex items-start justify-between mb-4">
            <div>
              <h3 class="text-xl font-bold text-gray-900">${lead.company}</h3>
              <p class="text-reforge-muted">${lead.industry}</p>
            </div>
            <div class="icp-score-ring">
              <div class="icp-score-ring-inner" style="color: ${scoreColor}">${lead.icp_score}</div>
            </div>
          </div>
          
          <div class="bg-gray-50 rounded-lg p-4 mb-4">
            <div class="flex items-center gap-3 mb-3">
              <div class="w-10 h-10 rounded-full bg-reforge-teal/20 flex items-center justify-center text-lg">
                ${lead.person.charAt(0)}
              </div>
              <div>
                <p class="font-semibold text-gray-900">${lead.person}</p>
                <p class="text-sm text-reforge-muted">${lead.title}</p>
              </div>
            </div>
            <div class="grid grid-cols-2 gap-3 text-sm">
              <div>
                <p class="text-reforge-muted text-xs">Company Size</p>
                <p class="font-medium text-gray-900">${lead.size} employees</p>
              </div>
              <div>
                <p class="text-reforge-muted text-xs">AI Signals</p>
                <p class="font-medium text-reforge-teal">${lead.ai_signals.length > 0 ? '‚úì ' + lead.ai_signals[0] : 'None detected'}</p>
              </div>
            </div>
          </div>
          
          ${lead.ai_signals.length > 1 ? `
          <div class="flex flex-wrap gap-2 mb-4">
            ${lead.ai_signals.map(s => `<span class="px-2 py-1 bg-reforge-teal/10 text-reforge-teal text-xs rounded-full">${s}</span>`).join('')}
          </div>
          ` : ''}
          
          <div class="border-t border-gray-100 pt-4">
            <p class="text-sm text-gray-600"><span class="font-medium">Assessment:</span> ${lead.summary}</p>
          </div>
        </div>
      `;
    }

    function renderCards() {
      const stack = document.getElementById('cardStack');
      const remaining = leads.slice(currentIndex, currentIndex + 3);
      
      if (remaining.length === 0) {
        stack.innerHTML = '';
        document.getElementById('emptyState').classList.remove('hidden');
        return;
      }
      
      document.getElementById('emptyState').classList.add('hidden');
      stack.innerHTML = remaining.map((lead, i) => renderCard(lead, currentIndex + i)).join('');
      
      // Add drag handlers to top card
      const topCard = stack.querySelector('.swipe-card');
      if (topCard) {
        topCard.addEventListener('mousedown', startDrag);
        topCard.addEventListener('touchstart', startDrag, { passive: true });
      }
      
      updateStats();
    }

    function startDrag(e) {
      isDragging = true;
      startX = e.type === 'touchstart' ? e.touches[0].clientX : e.clientX;
      const card = e.currentTarget;
      card.classList.add('swiping');
      
      document.addEventListener('mousemove', onDrag);
      document.addEventListener('mouseup', endDrag);
      document.addEventListener('touchmove', onDrag, { passive: true });
      document.addEventListener('touchend', endDrag);
    }

    function onDrag(e) {
      if (!isDragging) return;
      currentX = (e.type === 'touchmove' ? e.touches[0].clientX : e.clientX) - startX;
      
      const card = document.querySelector('.swipe-card.swiping');
      if (!card) return;
      
      const rotation = currentX * 0.05;
      card.style.transform = `translateX(${currentX}px) rotate(${rotation}deg)`;
      
      // Update overlays
      const nopeOverlay = card.querySelector('.swipe-overlay.nope');
      const likeOverlay = card.querySelector('.swipe-overlay.like');
      
      if (currentX < -50) {
        nopeOverlay.style.opacity = Math.min(1, Math.abs(currentX) / 150);
        likeOverlay.style.opacity = 0;
        document.getElementById('swipeLeftIndicator').style.opacity = Math.min(1, Math.abs(currentX) / 150);
        document.getElementById('swipeRightIndicator').style.opacity = 0;
      } else if (currentX > 50) {
        likeOverlay.style.opacity = Math.min(1, currentX / 150);
        nopeOverlay.style.opacity = 0;
        document.getElementById('swipeRightIndicator').style.opacity = Math.min(1, currentX / 150);
        document.getElementById('swipeLeftIndicator').style.opacity = 0;
      } else {
        nopeOverlay.style.opacity = 0;
        likeOverlay.style.opacity = 0;
        document.getElementById('swipeLeftIndicator').style.opacity = 0;
        document.getElementById('swipeRightIndicator').style.opacity = 0;
      }
    }

    function endDrag() {
      if (!isDragging) return;
      isDragging = false;
      
      document.removeEventListener('mousemove', onDrag);
      document.removeEventListener('mouseup', endDrag);
      document.removeEventListener('touchmove', onDrag);
      document.removeEventListener('touchend', endDrag);
      
      const card = document.querySelector('.swipe-card.swiping');
      if (!card) return;
      
      card.classList.remove('swiping');
      document.getElementById('swipeLeftIndicator').style.opacity = 0;
      document.getElementById('swipeRightIndicator').style.opacity = 0;
      
      if (currentX < -100) {
        swipeLeft();
      } else if (currentX > 100) {
        swipeRight();
      } else {
        card.style.transform = '';
        card.querySelector('.swipe-overlay.nope').style.opacity = 0;
        card.querySelector('.swipe-overlay.like').style.opacity = 0;
      }
      
      currentX = 0;
    }

    function swipeLeft() {
      const card = document.querySelector('.swipe-card:first-child');
      if (!card || currentIndex >= leads.length) return;
      
      card.classList.add('animate-left');
      skippedLeads.push(leads[currentIndex]);
      
      setTimeout(() => {
        currentIndex++;
        renderCards();
      }, 350);
    }

    function swipeRight() {
      const card = document.querySelector('.swipe-card:first-child');
      if (!card || currentIndex >= leads.length) return;
      
      card.classList.add('animate-right');
      qualifiedLeads.push(leads[currentIndex]);
      updateRecentQualified();
      
      setTimeout(() => {
        currentIndex++;
        renderCards();
      }, 350);
    }

    function updateStats() {
      const reviewed = qualifiedLeads.length + skippedLeads.length;
      document.getElementById('qualifiedCount').textContent = qualifiedLeads.length;
      document.getElementById('reviewedCount').textContent = reviewed;
      document.getElementById('remainingCount').textContent = leads.length - currentIndex;
      document.getElementById('totalLeads').textContent = leads.length;
      
      if (reviewed > 0) {
        const rate = Math.round((qualifiedLeads.length / reviewed) * 100);
        document.getElementById('qualifyRate').textContent = rate + '%';
        
        if (qualifiedLeads.length > 0) {
          const avgScore = Math.round(qualifiedLeads.reduce((a, b) => a + b.icp_score, 0) / qualifiedLeads.length);
          document.getElementById('avgScore').textContent = avgScore;
        }
      }
    }

    function updateRecentQualified() {
      const container = document.getElementById('recentQualified');
      const recent = qualifiedLeads.slice(-5).reverse();
      
      if (recent.length === 0) {
        container.innerHTML = '<p class="text-xs text-reforge-muted italic">None yet‚Äîstart swiping!</p>';
        return;
      }
      
      container.innerHTML = recent.map(lead => `
        <div class="flex items-center justify-between bg-reforge-teal/10 rounded-lg p-2">
          <div>
            <p class="font-medium text-xs text-gray-900">${lead.company}</p>
            <p class="text-xs text-reforge-muted">${lead.person}</p>
          </div>
          <span class="text-xs font-bold text-reforge-teal">${lead.icp_score}</span>
        </div>
      `).join('');
    }

    function exportQualifiedLeads() {
      if (qualifiedLeads.length === 0) {
        alert('No qualified leads to export yet!');
        return;
      }
      
      const headers = ['Company', 'Person', 'Title', 'Size', 'Industry', 'AI Signals', 'ICP Score', 'Summary'];
      const rows = qualifiedLeads.map(l => [
        l.company, l.person, l.title, l.size, l.industry, 
        l.ai_signals.join('; '), l.icp_score, l.summary
      ]);
      
      const csv = [headers, ...rows].map(r => r.map(c => `"${c}"`).join(',')).join('\n');
      const blob = new Blob([csv], { type: 'text/csv' });
      const url = URL.createObjectURL(blob);
      
      const a = document.createElement('a');
      a.href = url;
      a.download = `qualified_leads_${new Date().toISOString().split('T')[0]}.csv`;
      a.click();
      URL.revokeObjectURL(url);
    }

    function resetSwiper() {
      currentIndex = 0;
      qualifiedLeads = [];
      skippedLeads = [];
      renderCards();
      updateRecentQualified();
    }

    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
      // Only respond when lead-qualifier section is visible
      if (document.getElementById('lead-qualifier').classList.contains('hidden')) return;
      
      if (e.key === 'ArrowLeft' || e.key === 'a' || e.key === 'A') {
        swipeLeft();
      } else if (e.key === 'ArrowRight' || e.key === 'd' || e.key === 'D') {
        swipeRight();
      }
    });

    // Initialize swiper when section is shown
    const originalShowSection = showSection;
    showSection = function(sectionId) {
      originalShowSection(sectionId);
      if (sectionId === 'lead-qualifier') {
        renderCards();
      }
    };

    populateUI();
  </script>
</body>
</html>
